<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>perl</title>
<!-- 2016-03-02 Wed 15:06 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="root" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="org.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">perl</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. regex</a>
<ul>
<li><a href="#sec-1-1">1.1. 零散知识</a></li>
<li><a href="#sec-1-2">1.2. 元字符 字符组简记</a></li>
<li><a href="#sec-1-3">1.3. 字符缩略表示法</a></li>
<li><a href="#sec-1-4">1.4. 转义及控制字符</a></li>
<li><a href="#sec-1-5">1.5. 量词</a></li>
<li><a href="#sec-1-6">1.6. 锚点</a></li>
<li><a href="#sec-1-7">1.7. 模式</a></li>
<li><a href="#sec-1-8">1.8. 条件判断 (?if then else)</a></li>
<li><a href="#sec-1-9">1.9. 分组 捕获 环视</a>
<ul>
<li><a href="#sec-1-9-1">1.9.1. 捕获型括号</a></li>
<li><a href="#sec-1-9-2">1.9.2. 非捕获型括号</a></li>
<li><a href="#sec-1-9-3">1.9.3. 环视</a></li>
<li><a href="#sec-1-9-4">1.9.4. 固化分组 (?&gt;&#x2026;)</a></li>
<li><a href="#sec-1-9-5">1.9.5. 在正则中内嵌代码</a></li>
</ul>
</li>
<li><a href="#sec-1-10">1.10. 引擎</a></li>
<li><a href="#sec-1-11">1.11. POSIX 字符组</a></li>
<li><a href="#sec-1-12">1.12. Unicode</a>
<ul>
<li><a href="#sec-1-12-1">1.12.1. Unicode 属性，字母表和区块</a></li>
<li><a href="#sec-1-12-2">1.12.2. Unicode 组合字符序列 \X</a></li>
</ul>
</li>
<li><a href="#sec-1-13">1.13. <span class="todo TODO">TODO</span> java regex(other language)</a>
<ul>
<li><a href="#sec-1-13-1">1.13.1. java regex 中的 \</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">2. 一些特殊 默认变量</a>
<ul>
<li><a href="#sec-2-1">2.1. 缺省变量</a></li>
<li><a href="#sec-2-2">2.2. 正则中的变量</a></li>
<li><a href="#sec-2-3">2.3. 输入输出的变量</a></li>
<li><a href="#sec-2-4">2.4. 错误变量</a></li>
<li><a href="#sec-2-5">2.5. 系统变量</a></li>
<li><a href="#sec-2-6">2.6. 其它</a></li>
</ul>
</li>
<li><a href="#sec-3">3. 操作符</a>
<ul>
<li><a href="#sec-3-1">3.1. <span class="done DONE">DONE</span> 结合性、优先级</a></li>
<li><a href="#sec-3-2">3.2. <span class="done DONE">DONE</span> ~~ 智能匹配</a></li>
<li><a href="#sec-3-3">3.3. 按位运算操作符</a></li>
<li><a href="#sec-3-4">3.4. 字符串操作符</a></li>
<li><a href="#sec-3-5">3.5. 逻辑操作符</a></li>
<li><a href="#sec-3-6">3.6. <span class="done DONE">DONE</span> 比较操作符</a></li>
</ul>
</li>
<li><a href="#sec-4">4. 变量</a>
<ul>
<li><a href="#sec-4-1">4.1. 基础知识</a>
<ul>
<li><a href="#sec-4-1-1">4.1.1. 数字</a></li>
</ul>
</li>
<li><a href="#sec-4-2">4.2. here 文档</a></li>
<li><a href="#sec-4-3">4.3. 双引号内的\转义</a></li>
</ul>
</li>
<li><a href="#sec-5">5. 列表与数组</a>
<ul>
<li><a href="#sec-5-1">5.1. 基础知识</a></li>
<li><a href="#sec-5-2">5.2. 函数</a></li>
</ul>
</li>
<li><a href="#sec-6">6. 哈希 散列</a>
<ul>
<li><a href="#sec-6-1">6.1. <span class="todo TODO">TODO</span> 基础知识</a></li>
<li><a href="#sec-6-2">6.2. <span class="todo TODO">TODO</span> 函数</a></li>
</ul>
</li>
<li><a href="#sec-7">7. <span class="todo TODO">TODO</span> 数据结构</a></li>
<li><a href="#sec-8">8. 引用</a></li>
<li><a href="#sec-9">9. <span class="todo TODO">TODO</span> 子程序</a></li>
<li><a href="#sec-10">10. string 操作</a>
<ul>
<li><a href="#sec-10-1">10.1. 基本操作</a></li>
<li><a href="#sec-10-2">10.2. 字符操作</a></li>
<li><a href="#sec-10-3">10.3. 大小写转换</a></li>
</ul>
</li>
<li><a href="#sec-11">11. 文件目录及IO</a>
<ul>
<li><a href="#sec-11-1">11.1. <span class="todo TODO">TODO</span> glob</a></li>
<li><a href="#sec-11-2">11.2. <span class="done DONE">DONE</span> 文件测试</a></li>
<li><a href="#sec-11-3">11.3. <span class="todo TODO">TODO</span> 文件操作</a></li>
<li><a href="#sec-11-4">11.4. stat lstat 获得文件的属性</a></li>
<li><a href="#sec-11-5">11.5. <span class="todo TODO">TODO</span> 目录</a></li>
<li><a href="#sec-11-6">11.6. 文件句柄</a></li>
</ul>
</li>
<li><a href="#sec-12">12. 一些函数</a>
<ul>
<li><a href="#sec-12-1">12.1. 日期函数</a></li>
<li><a href="#sec-12-2">12.2. 简单</a></li>
</ul>
</li>
<li><a href="#sec-13">13. 结构控制</a>
<ul>
<li><a href="#sec-13-1">13.1. bool值</a></li>
<li><a href="#sec-13-2">13.2. 控制结构</a></li>
</ul>
</li>
<li><a href="#sec-14">14. <span class="todo TODO">TODO</span> 进程管理</a></li>
<li><a href="#sec-15">15. perl books</a></li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> regex</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> 零散知识</h3>
<div class="outline-text-3" id="text-1-1">
<p>
windows 下换行符为 \r\n<br  />
chomp和\Z不能解决<br  />
</p>
<ul class="org-ul">
<li>在字符组内部<br  />
*永远不是元字符<br  />
-通常是元字符(只有在开头的时候不是)<br  />
\b在字符组内外的意义不一样<br  />
</li>
</ul>
<p>
POSIX规定   .不能匹配NUL(值为0的字符),大多数的脚本语言容许文本中的出现NUL(而且可以用.匹配)<br  />
可以用 \C 匹配单个字节  但最好不用<br  />
</p>

<ul class="org-ul">
<li>字符组的运算<br  />
.NET提供字符组的“减法”运算  [a-z]-[aeiou]<br  />
Java regex pachage 可以使用 &amp;&amp;  [a-z]&amp;&amp;[^aeiou]  [ [abc][xyz] ] [abc[xyz]] 等<br  />
</li>
</ul>

<p>
\Q\E  取消之间元字符的特殊含义<br  />
</p>

<ul class="org-ul">
<li>多选结构(|)<br  />
优先级很低  eg. this and | or that 等价于 (this and)|(or that)<br  />
(this|that|)   空表达式在任何情况下都能匹配  相当于  (this|that)?<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> 元字符 字符组简记</h3>
<div class="outline-text-3" id="text-1-2">
<p>
\R 匹配断行(\n \r\n)<br  />
\v 垂直空白符<br  />
\h 水平空白符<br  />
\d 等价于[0-9],如果工具软件支持Unicode，能匹配所有的Unicode数字<br  />
\D [^\d]<br  />
\w [a-zA-Z0-9_] 某些工具软件不能匹配_ 而另一些则能支持当前locale中的所有数字和字符。<br  />
如果支持Unicode 通常能表示所有数字和字符<br  />
在java.util.regex和PCRE(也包括PHP)中 严格等价于[a-zA-Z0-9_]<br  />
\s [ \f\n\r\t\v] 在支持Unicode的系统中，有时包含Unicode的换行控制字符U+0085，<br  />
有时包含"空白"属性\p{Z}<br  />
&sect; [^\s]<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> 字符缩略表示法</h3>
<div class="outline-text-3" id="text-1-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">\a</td>
<td class="left">警报　</td>
<td class="left">通常对应ASCII中的&lt;BEL&gt;字符，八进制编码007</td>
</tr>

<tr>
<td class="left">\b</td>
<td class="left">退格　</td>
<td class="left">通常对应ASCII中的&lt;BS&gt;字符，八进制编码010.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">(在许多流派中，\b只有在字符组内部才表示这样的意义，否则代表单词分界符)</td>
</tr>

<tr>
<td class="left">\e</td>
<td class="left">Escape字符</td>
<td class="left">　对应ASCII中的&lt;ESC&gt;字符，八进制编码033</td>
</tr>

<tr>
<td class="left">\f</td>
<td class="left">进纸符　</td>
<td class="left">对应ASCII中的&lt;FF&gt;字符，八进制编码014</td>
</tr>

<tr>
<td class="left">\n</td>
<td class="left">换行符　</td>
<td class="left">Unix DOS/Windows上对应ASCII的&lt;LF&gt;，八进制编码012.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">MacOS中对应ASCII的&lt;CR&gt;字符，十进制编码015.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">在Java或任意一种.NET语言中，不论采用什么平台，都对应ASCII&lt;LF&gt;字符</td>
</tr>

<tr>
<td class="left">\r</td>
<td class="left">回车　</td>
<td class="left">对应ASCII的&lt;CR&gt;字符。在MacOS中对应ASCII的&lt;LF&gt;字符。</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">在Java或任意一种.NET语言中，不论采用什么平台，都对应ASCII&lt;CR&gt;字符</td>
</tr>

<tr>
<td class="left">\t</td>
<td class="left">水平制表符</td>
<td class="left">对应ASCII的&lt;HT&gt;字符，八进制编码011</td>
</tr>

<tr>
<td class="left">\v</td>
<td class="left">垂直制表符</td>
<td class="left">对应ASCII的&lt;VT&gt;字符，八进制编码013</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> 转义及控制字符</h3>
<div class="outline-text-3" id="text-1-4">
<p>
八进制转义  \num         \015\012  表示ASCII的CR/LF 序列<br  />
十六进制转义 \xnum \x{num} \unum \Unum<br  />
&nbsp;&nbsp; perl只支持\x<br  />
&nbsp;&nbsp; java支持 \xFF \uFFFF<br  />
控制字符    \cchar      \cH 匹配ASCII中的退格符， \cJ 匹配ASCII中的换行符<br  />
GNU Emacs的元序列为 ?^char  如  ?^H<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> 量词</h3>
<div class="outline-text-3" id="text-1-5">
<p>
匹配优先量词 * + ? {num, num}  尽可能多的匹配<br  />
忽略优先量词 *?  /+?  ??  {num, num}?  尽可能少的匹配<br  />
占有优先量词 *+  <del>+  ?</del>  {num, num}+  一旦匹配不允许回溯 类似固化分组 (java.util.regex  PCRE)<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> 锚点</h3>
<div class="outline-text-3" id="text-1-6">
<p>
\A 匹配字符串的绝对开头<br  />
\z 匹配字符串的绝对结尾<br  />
\Z 匹配字符串的结尾可以怱略换行符<br  />
一般与^$相似<br  />
在/m 模式下^$匹配行首行尾<br  />
\G 上一次匹配的结束位置  一般在 /c 模式下使用<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> 模式</h3>
<div class="outline-text-3" id="text-1-7">
<ul class="org-ul">
<li>/m 多行模式　　　　　　　 ^$可以字符串内部的位置　\A \Z 相当于普通的　^ $<br  />
</li>
<li>/x 宽松排列和注释模式　　可以在表达式中加入空白符<br  />
</li>
<li>/s 单行模式(跨行匹配)　　此模式下 .可以匹配\n<br  />
</li>
<li>/i 不区分大小写<br  />
</li>
<li>/e 修饰词把REPLACEMENT当作一个perl代码块，而不仅仅是一个替换的字串。<br  />
执行这段代码后得出的结果当作替换字串使用。<br  />
可以多次使用/e 多次求值<br  />
</li>
<li>/g 全局模式<br  />
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">匹配类型</td>
<td class="left">尝试开始位置</td>
<td class="left">匹配成功时的pos值</td>
<td class="left">匹配失败是的pos设定</td>
</tr>

<tr>
<td class="left">m/&#x2026;/</td>
<td class="left">字符串起始位置(忽略pos)</td>
<td class="left">重置为undef</td>
<td class="left">重置为undef</td>
</tr>

<tr>
<td class="left">m/&#x2026;/g</td>
<td class="left">字符串的pos位置</td>
<td class="left">匹配结束位置的偏移值</td>
<td class="left">重置为undef</td>
</tr>

<tr>
<td class="left">m/&#x2026;/gc</td>
<td class="left">字符串的pos位置</td>
<td class="left">匹配结束位置的偏移值</td>
<td class="left">不变</td>
</tr>
</tbody>
</table>
</li>
<li>/o 只编译一次 针对模式中的变量代换<br  />
</li>
<li>字符解释方式 ASCII(/a) Unicode(/u) locale(/l)<br  />
</li>
<li>/aa 只采用ASCII方式的大小写映射处理 (unicode编码大小写比较乱)<br  />
</li>
<li>/gc 匹配失败不会重置目标字符串的pos 一般与\G一起使用  /c 离不开/g<br  />
<div class="org-src-container">

<pre class="src src-perl">while(not  $html =~ m/\G\z/gc){
    if    ($html =~ m/\G( &lt;[^&gt;]+&gt;   )/xgc) {print "TAG: $1\n"           }
    elsif ($html =~ m/\G( &amp;\w+;     )/xgc) {print "NAMED ENTITY: $1\n"  }
    elsif ($html =~ m/\G( &amp;\#\d+;   )/xgc) {print "NUMERIC ENTITY: $1\n"}
    elsif ($html =~ m/\G( [^&lt;&gt;&amp;\n]+ )/xgc) {print "TEXT: $1\n"          }
    elsif ($html =~ m/\G  \n         /xgc) {print "NEWLINE\n"           }
    elsif ($html =~ m/\G( .         )/xgc) {print "ILLEGAL CHAR: $1\n"  }
    else {
        die "$0: oops, this shouldn't happen!";
    }
}
</pre>
</div>
</li>
<li>模式修饰符<br  />
(?i)(?-i) 在中间启用模式   &lt;B&gt;(?i)very(?-i)&lt;/B&gt;<br  />
大多数的实现方式中作用范围只限于括号内部  python不支持<br  />
&lt;B&gt;(?:(?i)very)&lt;/B&gt;  &lt;B&gt;(?i:very)&lt;/B&gt;<br  />
类似有 x   s   m  模式<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> 条件判断 (?if then else)</h3>
</div>
<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9"><span class="section-number-3">1.9</span> 分组 捕获 环视</h3>
<div class="outline-text-3" id="text-1-9">
</div><div id="outline-container-sec-1-9-1" class="outline-4">
<h4 id="sec-1-9-1"><span class="section-number-4">1.9.1</span> 捕获型括号</h4>
<div class="outline-text-4" id="text-1-9-1">
<p>
$str =~ m/some(regex)things/ # 标量环境下返回是否匹配  列表环境下返回捕获到的内容<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-9-2" class="outline-4">
<h4 id="sec-1-9-2"><span class="section-number-4">1.9.2</span> 非捕获型括号</h4>
<div class="outline-text-4" id="text-1-9-2">
<p>
只分组不捕获       (?:<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-9-3" class="outline-4">
<h4 id="sec-1-9-3"><span class="section-number-4">1.9.3</span> 环视</h4>
<div class="outline-text-4" id="text-1-9-3">
<p>
肯定顺序环视       (?=<br  />
否定顺序环视       (?!<br  />
肯定逆序环视       (?&lt;=<br  />
否定逆序环视       (?&lt;!<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-9-4" class="outline-4">
<h4 id="sec-1-9-4"><span class="section-number-4">1.9.4</span> 固化分组 (?&gt;&#x2026;)</h4>
<div class="outline-text-4" id="text-1-9-4">
<p>
当匹配运行到此结构之后，那么此结构体中的所有备用状态都会被放弃。<br  />
括号内的子表达式中未尝试过的备用状态都不存在了，所以回溯不能选择其中的状态。<br  />
</p>

<p>
perl 和 python 限制逆序环视只能匹配固定长度的文本<br  />
(?&lt;!books?)   (?&lt;!^\w+)   错误<br  />
</p>

<p>
python php .net 支持命名捕获  (?P&lt;Area&gt;\d\d\d)  (?&lt;Area&gt;\d\d\d)<br  />
</p>
</div>
</div>

<div id="outline-container-sec-1-9-5" class="outline-4">
<h4 id="sec-1-9-5"><span class="section-number-4">1.9.5</span> 在正则中内嵌代码</h4>
<div class="outline-text-4" id="text-1-9-5">
<ul class="org-ul">
<li>动态正则结构 (??{perl code})<br  />
<div class="org-src-container">

<pre class="src src-perl">^(\d+)(??{"X x { $1 }"})$  # 匹配 '3XXX' '12XXXXXXXXXXXX' 不能匹配'3X' '7XXXX'
</pre>
</div>
<p>
匹配嵌套()<br  />
</p>
<div class="org-src-container">

<pre class="src src-perl">my $levelN;
$levelN = qr/ (?&gt; [^()]+ | \( (??{ $levelN } )\) )*  /x;
if( $text =~ m/\b ( \w+ \( $levelN \) ) /x)
  print "found function call: $1";
</pre>
</div>
</li>
<li>内嵌代码结构 (?{arbitrary perl code})<br  />
不需要用到返回值 更为通用,适合调试正则<br  />
<div class="org-src-container">

<pre class="src src-perl">"abcdefgh" =~ m{
  (?{print "Starting match at [$`|$']\n"})
  (?:d|e|f|g)
}x;
</pre>
</div>
<p>
结果是：<br  />
starting match at [|abcdefgh]<br  />
starting match at [a|bcdefgh]<br  />
starting match at [ab|cdefgh]<br  />
starting match at [abc|defgh]<br  />
</p>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-1-10" class="outline-3">
<h3 id="sec-1-10"><span class="section-number-3">1.10</span> 引擎</h3>
<div class="outline-text-3" id="text-1-10">
<p>
NFA DFA<br  />
</p>
<ul class="org-ul">
<li>DFA<br  />
最左最长原则 不支持许多功能 没有回溯 文本主导<br  />
速度与正则表达式无关<br  />
</li>
<li>NFA 表达式主导 回溯<br  />
速度与表达式直接相关<br  />
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-11" class="outline-3">
<h3 id="sec-1-11"><span class="section-number-3">1.11</span> POSIX 字符组</h3>
<div class="outline-text-3" id="text-1-11">
<p>
[:alnum:]  字母字符和数字字符<br  />
[:alpha:]  字母<br  />
[:blank:]  空格和制表符<br  />
[:cntrl:]  控制字符<br  />
[:digit:]  数字<br  />
[:graph:]  非空字符(即空白字符 控制字符之外的字符)<br  />
[:lower:]  小写字母<br  />
[:print:]  类似[:graph:] 但是包含空白字符<br  />
[:punct:]  标点符号<br  />
[:space:]  所有的空白字符<br  />
[:upper:]  大写字母<br  />
[:xdigit:] 十六进制中容许出现的数字<br  />
</p>
</div>
</div>
<div id="outline-container-sec-1-12" class="outline-3">
<h3 id="sec-1-12"><span class="section-number-3">1.12</span> Unicode</h3>
<div class="outline-text-3" id="text-1-12">
</div><div id="outline-container-sec-1-12-1" class="outline-4">
<h4 id="sec-1-12-1"><span class="section-number-4">1.12.1</span> Unicode 属性，字母表和区块</h4>
<div class="outline-text-4" id="text-1-12-1">
</div><ol class="org-ol"><li><a id="sec-1-12-1-1" name="sec-1-12-1-1"></a>属性<br  /><div class="outline-text-5" id="text-1-12-1-1">
<p>
\p{...} \P{...}<br  />
基本的Unicode属性分类<br  />
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">分类</th>
<th scope="col" class="left">等价表示及描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">\p{L}</td>
<td class="left">\p{Letter}  字符</td>
</tr>

<tr>
<td class="left">\p{M}*</td>
<td class="left">\p{Mark}    不能单独出现必须与其他基本字符一起出现(重音符号、包围框，等等)</td>
</tr>

<tr>
<td class="left">\p{Z}</td>
<td class="left">\p{Separator} 用于表示分隔，但本身不可见的字符(各种空白字符)</td>
</tr>

<tr>
<td class="left">\p{S}</td>
<td class="left">\p{Symbol} 各种图形符号(Dingdats)和字母符号</td>
</tr>

<tr>
<td class="left">\p{N}</td>
<td class="left">\p{Number} 任何数字字符</td>
</tr>

<tr>
<td class="left">\p{P}</td>
<td class="left">\p{Punctutation} 标点字符</td>
</tr>

<tr>
<td class="left">\p{C}</td>
<td class="left">\p{Other}   匹配其他任何字符(很少用于正常字符)</td>
</tr>
</tbody>
</table>
<p>
基本的Unicode子属性<br  />
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">属性</th>
<th scope="col" class="left">等价表示法及说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">\p{Ll}</td>
<td class="left">\p{Lowercase_Letter} 小写字母</td>
</tr>

<tr>
<td class="left">\p{Lu}</td>
<td class="left">\p{Uppercase_Letter} 大写字母</td>
</tr>

<tr>
<td class="left">\p{Lt}</td>
<td class="left">\p{Titlecase_Letter} 出现在单词开头的字母</td>
</tr>

<tr>
<td class="left">\p{L&}</td>
<td class="left">\p{Ll} \p{Lu} \p{Lt} 并集的简写</td>
</tr>

<tr>
<td class="left">\p{Lm}</td>
<td class="left">\p{Modifier_Letter} 少数形似字母的，有特殊用途的字符</td>
</tr>

<tr>
<td class="left">\p{Lo}</td>
<td class="left">\p{Other_Letter} 没有大小写形式，也不属于修饰符的字母，包括希伯来语 阿拉伯语..中的字母</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">\p{Mn}</td>
<td class="left">\p{Non_Spacing_Mark} 用于修饰其它字符的字符如重音符 变音符 某些“元音记号”和语调标记</td>
</tr>

<tr>
<td class="left">\p{Mc}</td>
<td class="left">\p{Spacing_Combining_Mark} 会占据一定的宽度的修饰字符</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">(各种语言中的大多数“元音记号”孟加拉语，印度古哈拉地语。。。)</td>
</tr>

<tr>
<td class="left">\p{Me}</td>
<td class="left">\p{Encolsing_Mark} 可以围住其他字符的标记如圆圈方框钻石型等</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">\p{Zs}</td>
<td class="left">\p{Space_Separator} 各种空白字符 如空格符不间断空格以及各种固定宽度的空白字符</td>
</tr>

<tr>
<td class="left">\p{Zl}</td>
<td class="left">\p{Line_Separator} LINE SEPARATOR 字符(U+2028)</td>
</tr>

<tr>
<td class="left">\p{Zp}</td>
<td class="left">\p{Paragraph_Separator} PARAGRAPH SEPARATOR 字符(U+2029)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">\p{Sm}</td>
<td class="left">\p{Math_Symbol} 数学符号 + 除 表示分数的横线</td>
</tr>

<tr>
<td class="left">\p{Sc}</td>
<td class="left">\p{Currency_Symbol} 货币符号 $ ￥ €</td>
</tr>

<tr>
<td class="left">\p{Sk}</td>
<td class="left">\p{Modifier_Symbol} 大多数版本中它表示组合字符，</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">但是作为功能完整的字符，它们有自己的意义</td>
</tr>

<tr>
<td class="left">\p{So}</td>
<td class="left">\p{Other_Symbol} 各种印刷符号框图符号盲文符号以及非字母形式的中文字符等</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">\p{Nd}</td>
<td class="left">\p{Decimal_Digit_Number} 各种字母表中从0-9的数字(不包括中日韩文)</td>
</tr>

<tr>
<td class="left">\p{Nl}</td>
<td class="left">\p{Letter_Number} 几乎所有的罗马数字</td>
</tr>

<tr>
<td class="left">\p{No}</td>
<td class="left">\p{Other_Number} 作为加密符号和记号的数字，非阿拉伯数字的数字表示字符</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">(不包括中文 日文 韩文中的数字)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">\p{Pd}</td>
<td class="left">\p{Dash_Punctuation} 各种格式的连字符和短划线</td>
</tr>

<tr>
<td class="left">\p{Ps}</td>
<td class="left">\p{Open_Punctuation} ( 上书名号 《 等</td>
</tr>

<tr>
<td class="left">\p{Pe}</td>
<td class="left">\p{Close_Punctuantion} ) 下书名号 》 等</td>
</tr>

<tr>
<td class="left">\p{Pi}</td>
<td class="left">\p{Initial_Punctuation} « “ 〈 等</td>
</tr>

<tr>
<td class="left">\p{Pf}</td>
<td class="left">\p{Final_Punctutaion} » ’ 〉等</td>
</tr>

<tr>
<td class="left">\p{Pc}</td>
<td class="left">\p{Connector_Punctuation} 少数有特殊语法含义的标点，如_</td>
</tr>

<tr>
<td class="left">\p{Po}</td>
<td class="left">\p{Other_Punctuation} 用于表示其他所有标点字符: !&amp;. 等</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">\p{Cc}</td>
<td class="left">\p{Control} ASCII和Latin-1编码中的控制字符(TAB LF CR 等)</td>
</tr>

<tr>
<td class="left">\p{Cf}</td>
<td class="left">\p{Format} 用于表示格式的不可见字符</td>
</tr>

<tr>
<td class="left">\p{Co}</td>
<td class="left">\p{Private_Use} 分配与私人用途的代码点(如公司的logo)</td>
</tr>

<tr>
<td class="left">\p{Cn}</td>
<td class="left">\p{Unassigned} 目前尚未分配字符的代码点</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="sec-1-12-1-2" name="sec-1-12-1-2"></a>区块<br  /><div class="outline-text-5" id="text-1-12-1-2">
<p>
\p{InTibetan} 从U+0f00 到 U+0fff的256个代码点<br  />
区块可能含未赋值的代码点<br  />
并不是和区块相关的所有字符都在区块内部<br  />
区块通常包含不相关的字符<br  />
属于横个字母表的字符可能同时包含于多个区块<br  />
</p>
</div>
</li></ol>
</div>
<div id="outline-container-sec-1-12-2" class="outline-4">
<h4 id="sec-1-12-2"><span class="section-number-4">1.12.2</span> Unicode 组合字符序列 \X</h4>
<div class="outline-text-4" id="text-1-12-2">
<div class="org-src-container">

<pre class="src src-perl">$reg = qr/\X/;
# 缩略表示 \P{M}\p{M}* 它可以视为 .的扩展。它匹配一个基本字符(除\p{M}之外的任何字符)，
# 之后可能有任意数目的组合字符(除\p{M}之外)
# \X 与 . 的差别
# 能够匹配结尾的组合字符
# \X始终能匹配换行符和其他Unicode行终结符
# 点号无论什么情况下都能匹配任何字符，而\X 不能匹配以组合字符开头的字符
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-13" class="outline-3">
<h3 id="sec-1-13"><span class="section-number-3">1.13</span> <span class="todo TODO">TODO</span> java regex(other language)</h3>
<div class="outline-text-3" id="text-1-13">
</div><div id="outline-container-sec-1-13-1" class="outline-4">
<h4 id="sec-1-13-1"><span class="section-number-4">1.13.1</span> java regex 中的 \</h4>
<div class="outline-text-4" id="text-1-13-1">
<p>
java 中Pattern.compile(String str);<br  />
str 并不是正则表达式，只是一个字符串，经过编译之后才是正真的表达式<br  />
Pattern.compile("[\u2e80-\u9FFF]")<br  />
经过编译 \u2e80 \u9FFF 会变为相应的字符，整个表达式变为类似 [a-z]这种形式<br  />
Pattern.compile("[\\u2e80-\\u9FFF]")<br  />
编译后 变为 [\u2e80-\u9fff] 这种形式<br  />
两种形式都可以匹配成功<br  />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 一些特殊 默认变量</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> 缺省变量</h3>
<div class="outline-text-3" id="text-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">变量</th>
<th scope="col" class="left">英文名</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">$_</td>
<td class="left">$ARG</td>
<td class="left">默认变量</td>
</tr>

<tr>
<td class="left">@_</td>
<td class="left">&#xa0;</td>
<td class="left">函数参数</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> 正则中的变量</h3>
<div class="outline-text-3" id="text-2-2">
<p>
$1 $2 .. 捕获变量<br  />
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">变量</th>
<th scope="col" class="left">英文名</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">$&amp;</td>
<td class="left">$MATCH</td>
<td class="left">匹配的部分</td>
</tr>

<tr>
<td class="left">$`</td>
<td class="left">$PREMATCH</td>
<td class="left">匹配部分之前的内容</td>
</tr>

<tr>
<td class="left">$'</td>
<td class="left">$POSTMATCH</td>
<td class="left">未匹配的部分</td>
</tr>

<tr>
<td class="left">$+</td>
<td class="left">$LAST_PAREN_MATCH</td>
<td class="left">最后一个圆括号中匹配的部分</td>
</tr>

<tr>
<td class="left">$*</td>
<td class="left">$MULTILINE_MATCHING</td>
<td class="left">多行匹配须将此值设成1</td>
</tr>

<tr>
<td class="left">@+</td>
<td class="left">@LAST_MATCH_END</td>
<td class="left">保存当前匹配的最后成功子匹配的结尾的偏移量</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">$+<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>是整个匹配的偏移量,$+<sup><a id="fnr.2" name="fnr.2" class="footref" href="#fn.2">2</a></sup>&#x2026;</td>
</tr>

<tr>
<td class="left">@-</td>
<td class="left">@LAST_MATCH_START</td>
<td class="left">同上 开始偏移量</td>
</tr>
</tbody>
</table>
<div class="org-src-container">

<pre class="src src-perl">if("hello there, neighbor" =~ /\s(\w+),/){
    print $1;   # "there"
    print $&amp;;   # "there,"
    print $`;   # "hello"
    print $';   # "neighbor"
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> 输入输出的变量</h3>
<div class="outline-text-3" id="text-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">变量</th>
<th scope="col" class="left">英文名</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">$.</td>
<td class="left">$INPUT_LINE_NUMBE</td>
<td class="left">最近一次执行读操作的当前行数</td>
</tr>

<tr>
<td class="left">$/</td>
<td class="left">$INPUT_RECORD_SEPARATOR</td>
<td class="left">输入记录分隔符,缺省是新行 chomp 取自变量"$/"</td>
</tr>

<tr>
<td class="left">$,</td>
<td class="left">$OUTPUT_FIELD_SEPARATOR</td>
<td class="left">print 操作的输出域分隔符</td>
</tr>

<tr>
<td class="left">$\</td>
<td class="left">$OUTPUT_RECORD_SEPARATOR</td>
<td class="left">print 操作的输出记录分隔符,通常用于省略换行符</td>
</tr>

<tr>
<td class="left">$"</td>
<td class="left">$LIST_SEPARATOR</td>
<td class="left">当数组转换成字符串时,元素缺省以空格分隔</td>
</tr>

<tr>
<td class="left">$^L</td>
<td class="left">$FORMAT_FORMFEED</td>
<td class="left">当执行一个进纸动作时输出的字符.缺省是\f</td>
</tr>

<tr>
<td class="left">$:</td>
<td class="left">$FORMAT_LINE_BREAK_CHARACTERS</td>
<td class="left">就是目前可以作为折行的字符集合.缺省值是\n(空白 换行 连字号)</td>
</tr>

<tr>
<td class="left">$^A</td>
<td class="left">$ACCUMULATOR</td>
<td class="left">格式化行的写收集器的当前值</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> 错误变量</h3>
<div class="outline-text-3" id="text-2-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">变量</th>
<th scope="col" class="left">英文名</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">$?</td>
<td class="left">$CHILD_ERROR</td>
<td class="left">包含了最近一次执行的外部程序结束状态</td>
</tr>

<tr>
<td class="left">$!</td>
<td class="left">$OS_ERROR,$ERRNO</td>
<td class="left">包含了系统的错误.(错误码 或 错误信息)</td>
</tr>

<tr>
<td class="left">$\^E</td>
<td class="left">$EXTENDED_OS_ERROR</td>
<td class="left">在某些平台,返回扩展错误信息</td>
</tr>

<tr>
<td class="left">$@</td>
<td class="left">$EVAL_ERROR</td>
<td class="left">从上一个eval命令的Perl语法错误信息</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> 系统变量</h3>
<div class="outline-text-3" id="text-2-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">$ $</td>
<td class="left">$PROCESS_ID $PID</td>
<td class="left">运行当前Perl进程的pid</td>
</tr>

<tr>
<td class="left">$&lt;</td>
<td class="left">$REAL_USER_ID $UID</td>
<td class="left">当前进程的实际用户标识符(uid)</td>
</tr>

<tr>
<td class="left">$&gt;</td>
<td class="left">$EFFECTIVE_USER_ID $EUID</td>
<td class="left">当前进程的有效用户标识符</td>
</tr>

<tr>
<td class="left">$(</td>
<td class="left">$REAL_GROUP_ID $GID</td>
<td class="left">当前进程的实际组标识符(gid)</td>
</tr>

<tr>
<td class="left">$)</td>
<td class="left">$EFFECTIVE_GROUP_ID $EGID</td>
<td class="left">当前进程的有效组标识符</td>
</tr>

<tr>
<td class="left">$0</td>
<td class="left">$REOGRAM_NAME</td>
<td class="left">正在执行的Perl脚本的文件名称.</td>
</tr>

<tr>
<td class="left">$[</td>
<td class="left">&#xa0;</td>
<td class="left">数组中第一个元素的序号或字符串中第一个字符的序号.缺省是0</td>
</tr>

<tr>
<td class="left">$]</td>
<td class="left">$PERL_VERSION</td>
<td class="left">返回版本号,加上补丁级别除以1000</td>
</tr>

<tr>
<td class="left">$^D</td>
<td class="left">$DEBUGGING</td>
<td class="left">调试标志的当前值</td>
</tr>

<tr>
<td class="left">$^F</td>
<td class="left">$SYSTEM_FD_MAX</td>
<td class="left">最大的系统文件描述符,通常是2</td>
</tr>

<tr>
<td class="left">$^I</td>
<td class="left">$INPLACE_EDIT</td>
<td class="left">原地编辑扩展的当前值.可使用undef禁止原地编辑</td>
</tr>

<tr>
<td class="left">$^M</td>
<td class="left">&#xa0;</td>
<td class="left">$M的内容能用件紧急内存池,以便Perl</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">出out-of-memory错误时使用.使用$M要求Perl进行特殊的编译</td>
</tr>

<tr>
<td class="left">$^O</td>
<td class="left">$OSNAME</td>
<td class="left">编译Perl本身时的操作系统名称</td>
</tr>

<tr>
<td class="left">$^P</td>
<td class="left">$PERLDB</td>
<td class="left">是否打开调试</td>
</tr>

<tr>
<td class="left">$^T</td>
<td class="left">$BASETIME</td>
<td class="left">当前脚本开始进行的时间,以秒为单位,从1970年开始</td>
</tr>

<tr>
<td class="left">$^W</td>
<td class="left">$WARNING</td>
<td class="left">警告开关的当前值,真或假</td>
</tr>

<tr>
<td class="left">$^X</td>
<td class="left">$EXECUTABLE_NAME</td>
<td class="left">二进制Perl执行文件的名称</td>
</tr>

<tr>
<td class="left">$ARGV</td>
<td class="left">&#xa0;</td>
<td class="left">当从&lt;&gt;读入时的当前文件名</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6"><span class="section-number-3">2.6</span> 其它</h3>
<div class="outline-text-3" id="text-2-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">变量</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">@ARGV</td>
<td class="left">命令行参数</td>
</tr>

<tr>
<td class="left">$ARGV</td>
<td class="left">当前文件的文件名,代表标准输入&lt;STDIN&gt;</td>
</tr>

<tr>
<td class="left">@INC</td>
<td class="left">寻找Perl脚本的地址表</td>
</tr>

<tr>
<td class="left">%INC</td>
<td class="left">通过do或requir包含的文件名的目录</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 操作符</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> <span class="done DONE">DONE</span> 结合性、优先级</h3>
<div class="outline-text-3" id="text-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">结合性</th>
<th scope="col" class="left">操作符</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">左</td>
<td class="left">括号；给定参数的列表操作符</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">-&gt;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">++ --</td>
</tr>

<tr>
<td class="left">右</td>
<td class="left">**(乘幂运算)</td>
</tr>

<tr>
<td class="left">右</td>
<td class="left">\ ! ~ + -</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">＝~ ！~</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">* / % x</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">+ - . (双目操作符)</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left"><a id="" name=""></a></td>
</tr>

<tr>
<td class="left">无连接性</td>
<td class="left">具名的单目操作符(-X文件测试; rand)</td>
</tr>

<tr>
<td class="left">无连接性</td>
<td class="left">&lt; &lt;= &gt; &gt;= lt le gt ge ("不相等操作符")</td>
</tr>

<tr>
<td class="left">无连接性</td>
<td class="left"><code>= !</code> &lt;=&gt; eq ne cmp ("相等"操作符)</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">&amp;</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">｜ ^</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">&amp;&amp;</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">无连接性</td>
<td class="left">.. &#x2026;(范围)</td>
</tr>

<tr>
<td class="left">右</td>
<td class="left">?:</td>
</tr>

<tr>
<td class="left">右</td>
<td class="left">\= += -= .=</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">, =&gt;</td>
</tr>

<tr>
<td class="left">无连接性</td>
<td class="left">列表操作符(向右结和)</td>
</tr>

<tr>
<td class="left">右</td>
<td class="left">not</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">and</td>
</tr>

<tr>
<td class="left">左</td>
<td class="left">or xor</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> <span class="done DONE">DONE</span> ~~ 智能匹配</h3>
<div class="outline-text-3" id="text-3-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">范例</th>
<th scope="col" class="left">匹配类型</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">%a ~~ %b</td>
<td class="left">哈希的键是否一致</td>
</tr>

<tr>
<td class="left">%a <code>~ @b  @a ~</code> %b</td>
<td class="left">%a中的至少一个键在列表@b中</td>
</tr>

<tr>
<td class="left">%a <code>~ /Fred/ /fred/ ~</code> %b</td>
<td class="left">至少有一个键匹配给定的模式</td>
</tr>

<tr>
<td class="left">'fred' ~~ %a</td>
<td class="left">是否存在$a{fred}</td>
</tr>

<tr>
<td class="left">@a ~~ @b</td>
<td class="left">数组是否相同</td>
</tr>

<tr>
<td class="left">@a ~~ <i>fred</i></td>
<td class="left">@a中至少有一个元素匹配模式</td>
</tr>

<tr>
<td class="left">$name ~~ undef   $name</td>
<td class="left">$name 没有定义</td>
</tr>

<tr>
<td class="left">$name ~~ <i>fred</i></td>
<td class="left">模式匹配</td>
</tr>

<tr>
<td class="left">123 ~~ '123.0'</td>
<td class="left">数值和"numish"类型的字符串是否相等</td>
</tr>

<tr>
<td class="left">' Fred' ~~ ' fred'</td>
<td class="left">字符串是否相同</td>
</tr>

<tr>
<td class="left">123 ~~ 456</td>
<td class="left">数值是否相等</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> 按位运算操作符</h3>
<div class="outline-text-3" id="text-3-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">表达式</th>
<th scope="col" class="left">意义</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">10 &amp; 12</td>
<td class="left">按位与 哪些位在两边同时为真(此例得8)</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">print 'a'&amp;'_'; #得到A</td>
</tr>

<tr>
<td class="left">10 ｜ 12</td>
<td class="left">按位或 哪些位在任一边为真(此例得14)</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">print 'A'  &vert; ''; #得到a  设置文件格式O_CREAT &vert; O_TRUNC</td>
</tr>

<tr>
<td class="left">10 ^ 12</td>
<td class="left">按位异或 哪些位在任何一边为真 但不能两边都为真(此例得6)</td>
</tr>

<tr>
<td class="left">6 &lt;&lt; 2</td>
<td class="left">按位左移 将左边操作数向左移动右操作数位,低位以0补(此例得24)</td>
</tr>

<tr>
<td class="left">25 &gt;&gt; 2</td>
<td class="left">按位右移 将左操作数向右移动右操作数位,丢弃低位(此例得6)</td>
</tr>

<tr>
<td class="left">~10</td>
<td class="left">按位取反 返回逐位反相之后的值(此例得0xfffffff5 32位)</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> 字符串操作符</h3>
<div class="outline-text-3" id="text-3-4">
<p>
. 将两个字符串连接到一起 eg.  "hello world"."\n"<br  />
x 将字符串重复几次      eg.  "fred" x 3<br  />
右操作数在使用前会先取整<br  />
对列表同样可用  @array=(1,2,3,4)x2; #@array=(1,2,3,4,1,2,3,4)<br  />
</p>
</div>
</div>

<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> 逻辑操作符</h3>
<div class="outline-text-3" id="text-3-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">操作符</th>
<th scope="col" class="left">命名</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">\!</td>
<td class="left">not</td>
<td class="left">非</td>
</tr>

<tr>
<td class="left">&vert;&vert;</td>
<td class="left">or</td>
<td class="left">或</td>
</tr>

<tr>
<td class="left">&amp;&amp;</td>
<td class="left">and</td>
<td class="left">与</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">xor</td>
<td class="left">异或</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6"><span class="section-number-3">3.6</span> <span class="done DONE">DONE</span> 比较操作符</h3>
<div class="outline-text-3" id="text-3-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">比较</th>
<th scope="col" class="left">数字</th>
<th scope="col" class="left">字符串</th>
<th scope="col" class="left">返回值</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">相等</td>
<td class="left">==</td>
<td class="left">eq</td>
<td class="left">相等返回真</td>
</tr>

<tr>
<td class="left">不等</td>
<td class="left">！=</td>
<td class="left">ne</td>
<td class="left">不等返回真</td>
</tr>

<tr>
<td class="left">小于</td>
<td class="left">&lt;</td>
<td class="left">lt</td>
<td class="left">小于返回真</td>
</tr>

<tr>
<td class="left">大于</td>
<td class="left">&gt;</td>
<td class="left">gt</td>
<td class="left">大于返回真</td>
</tr>

<tr>
<td class="left">小于等于</td>
<td class="left">&lt;=</td>
<td class="left">le</td>
<td class="left">不小于返回真</td>
</tr>

<tr>
<td class="left">大于等于</td>
<td class="left">&gt;=</td>
<td class="left">ge</td>
<td class="left">不大于返回真</td>
</tr>

<tr>
<td class="left">比较</td>
<td class="left">&lt;=&gt;</td>
<td class="left">cmp</td>
<td class="left">相等为0,大为1,小为-1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> 变量</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> 基础知识</h3>
<div class="outline-text-3" id="text-4-1">
</div><div id="outline-container-sec-4-1-1" class="outline-4">
<h4 id="sec-4-1-1"><span class="section-number-4">4.1.1</span> 数字</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
未赋值的标量 undef 作为数字时为0<br  />
0377 (oct)<br  />
0xff (hex)<br  />
0b11111111 (bin)    都表示255(dec)<br  />
可以用 hex oct 转换为10进制<br  />
sprintf 将10进制转换为2(%b) 8(%o) 16(%x)进制<br  />
整数直接量允许插入_便于阅读(非十进制也可以)<br  />
eg. 61_298_768<br  />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> here 文档</h3>
<div class="outline-text-3" id="text-4-2">
<p>
here 文档定义一个字符串,它的结束符用紧接着&lt;&lt;的符号定义,<br  />
这个符号可以用双引号或单引号括起来.同时它支持插值<br  />
</p>

<p>
here 文档仅仅是引号的一种可替代的形式.<br  />
在你可以使用单引号或者双引号的地方就可以使用here文档.<br  />
</p>
<ul class="org-ul">
<li>eg.<br  />
<div class="org-src-container">

<pre class="src src-perl">my $price = 'right';
#here docuemnts
print &lt;&lt;EOF;
The price is $price.
EOF
</pre>
</div>
<p>
结果将打印出: The price is right.<br  />
</p>
<div class="org-src-container">

<pre class="src src-perl">use strict;
my $someURL = 'http://www.perl.com';
my $html = &lt;&lt;ENDHTML;
&lt;HTML&gt;
&lt;BODY&gt;
&lt;P&gt;&lt;A HREF="$someURL"&gt;Perl Homepage&lt;/A&gt;&lt;/P&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
ENDHTML
open (DATAFILE, "&gt;data.file")||die "could not open 'data.file' $!";
print DATAFILE $html;  #print to file
close(DATAFILE);
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> 双引号内的\转义</h3>
<div class="outline-text-3" id="text-4-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">组合</th>
<th scope="col" class="left">意义</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">\n</td>
<td class="left">换行</td>
</tr>

<tr>
<td class="left">\r</td>
<td class="left">回车</td>
</tr>

<tr>
<td class="left">\t</td>
<td class="left">制表符</td>
</tr>

<tr>
<td class="left">\f</td>
<td class="left">换页符</td>
</tr>

<tr>
<td class="left">\b</td>
<td class="left">退格</td>
</tr>

<tr>
<td class="left">\a</td>
<td class="left">系统响铃</td>
</tr>

<tr>
<td class="left">\e</td>
<td class="left">Esc</td>
</tr>

<tr>
<td class="left">\007</td>
<td class="left">oct 表示的ASCII值(响铃)</td>
</tr>

<tr>
<td class="left">\x7f</td>
<td class="left">hex 表示的ASCII值(删除键代码)</td>
</tr>

<tr>
<td class="left">\{2744}</td>
<td class="left">hex unicode代码点(雪花）</td>
</tr>

<tr>
<td class="left">\cC</td>
<td class="left">控制符 Control</td>
</tr>

<tr>
<td class="left">\\</td>
<td class="left">反斜线</td>
</tr>

<tr>
<td class="left">\</td>
<td class="left">双引号</td>
</tr>

<tr>
<td class="left">\l</td>
<td class="left">下个字母小写</td>
</tr>

<tr>
<td class="left">\L</td>
<td class="left">后面所有字母小写直到\E</td>
</tr>

<tr>
<td class="left">\u</td>
<td class="left">下个字母大写</td>
</tr>

<tr>
<td class="left">\U</td>
<td class="left">后面所有字母大写直到\E</td>
</tr>

<tr>
<td class="left">\Q</td>
<td class="left">把它到\E之间的非单词字符加上\转义</td>
</tr>

<tr>
<td class="left">\E</td>
<td class="left">作为\L \U \Q 的结束</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> 列表与数组</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> 基础知识</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>列表直接量<br  />
(1, 2, 3, 4)<br  />
(1..5)<br  />
(1.7..5.7)     同上(取整)<br  />
(1, 2..5)<br  />
(5..1)         空<br  />
</li>
<li>qw 简写<br  />
eg. qw(fred barney betty)<br  />
或 qw() qw!! qw// qw## qw[] qw{} qw&lt;&gt; 等<br  />
</li>
<li>索引<br  />
访问越界  返回undef<br  />
为索引值超过数组尾端的元素赋值 数组会自动扩大 中间补充元素为undef<br  />
$#   最大索引值<br  />
负数索引值  从数组尾端往回计数(最后一个元素 索引值 -1)<br  />
</li>
<li>print<br  />
print @array;  打印列表 各元素之间没有空格<br  />
print "@array"; 打印列表 各元素之间有空格<br  />
print @array."\n" @array 打印元素个数<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> 函数</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li>pop(出) push(入) 对数组尾端进行操作<br  />
</li>
<li>shift(出) unshift(入) 对数组头进行操作<br  />
</li>
<li>splice 对数组中间元素   删除、添加<br  />
splice array, offset, length, list<br  />
</li>

<li>reverse  将列表倒序输出 不改变原来的顺序<br  />
</li>
<li>sort     ASCII 码排序   也可以自定义排序方法<br  />
<div class="org-src-container">

<pre class="src src-perl">#按字典方式排序
@articles = sort @files;
#实现同样的目的,但是使用了显式的排序函数
@articles = sort{$a cmp $b} @files;
#现在是大小写不敏感
@articles = sort{uc($a) cmp uc($b)} @files;
#现在是倒排序
@articles = sort{$b cmp $a} @files;
#按数字递增方式排序
@articles = sort{$a &lt;=&gt; $b} @files;
#按数字递减方式排序
@articles = sort{$b &lt;=&gt; $a} @files;
#现在使用内联函数按照值而不是关键字的方式排序哈希表 %aeg
@eldest = sort{$age{$b} &lt;=&gt; $age{$a}} keys %age;
</pre>
</div>
</li>
<li>map EXPR, list 对列表中的每个元素执行EXPR<br  />
<div class="org-src-container">

<pre class="src src-perl">@numbers = (80, 101, 114, 108);
@characters = map(chr $_, @numbers);
</pre>
</div>
</li>
<li>split 将根据指定的模式拆分字符串<br  />
my @fields = split <i>separator</i>, $string;<br  />
默认以空白符分隔$_ 中的字符串<br  />
<div class="org-src-container">

<pre class="src src-perl">my @fields = split /:/, "abc:def:g:h"; #得到("abc", "def", "g", "h")
my @fields = split;   #my @fields = split /\s+/, $_
</pre>
</div>
</li>

<li>join 与split 刚好相反<br  />
my $result = join $glue, @pieces;<br  />
</li>

<li>scalar 返回数组大小<br  />
<div class="org-src-container">

<pre class="src src-perl">@names = (Jo, Pete, Bill, Zeke, All);
print scalar(@names);   #6
</pre>
</div>
</li>

<li>delete 清空该位置的元素,但不改变各元素的位置<br  />
<div class="org-src-container">

<pre class="src src-perl">my @array = (0, 1, 2, 3, 4, 5, 6);
delete $array[3];
print jion(':', @array)."\n";  #0:1:2::4:5:6
</pre>
</div>
</li>
<li>exists 判断该元素是否存在<br  />
defined 判断该元素是否为undef<br  />
元素被delete后 exitsts返回 false<br  />
一个元素为undef exitsts返回 true<br  />
</li>

<li>chop 每一个元素去掉最后一个字符<br  />
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> 哈希 散列</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> <span class="todo TODO">TODO</span> 基础知识</h3>
<div class="outline-text-3" id="text-6-1">
<p>
key 唯一 value 可以重复  key 只能是字符串<br  />
可以直接赋值  %new_hash = %old_hash<br  />
%ip_address = reverse %host_name;  #reverse 可以实现键值反转<br  />
使用 =&gt; 时 key 的引号可以省略<br  />
</p>
<div class="org-src-container">

<pre class="src src-perl">my %last_name = {
    fred   =&gt; 'flintstone',
    dino   =&gt; undef,
    barney =&gt; 'rubble',
    betty  =&gt; 'rubble',
}
</pre>
</div>
<p>
%ENV 哈希<br  />
</p>
</div>
</div>
<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> <span class="todo TODO">TODO</span> 函数</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>keys values 函数 可以返回哈希键值列表<br  />
my @k = keys %hash;<br  />
my @v = values %hash;<br  />
</li>
<li>each foreach<br  />
whiel(($key, $value) = each %hash){ }<br  />
</li>
<li>delete 删除指定的键及其相对应的值<br  />
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> <span class="todo TODO">TODO</span> 数据结构</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>[] 将一个列表当成一个标量<br  />
<div class="org-src-container">

<pre class="src src-perl">$wife{"Jacob"} = ["Leah", "Rachel", "Bilhah", "Zilpah"];
or
$wife{"Jacob"}[0] = "Leah";
$wife{"Jacob"}[1] = "Rachel";
</pre>
</div>
</li>
<li>{} 将哈希当成一个标量<br  />
<div class="org-src-container">

<pre class="src src-perl">$kids_of_wife{"Jacob"} = {
    "Leah" =&gt; ["Reuben", "Simeon", "Levi", "Judah", "Issachar", "Zebulun"],
    "Rachel" =&gt; ["Joseph", "Benjamin"],
    "Bilhah" =&gt; ["Dan", "Naphtali"],
    "Zilpah" =&gt; ["Gad", "Asher"],
};
or
$kids_of_wife{"Jacob"}{"Leah"}[0] = "Reuben";
$kids_of_wife{"Jacob"}{"Leah"}[1] = "Simeon";
</pre>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> 引用</h2>
<div class="outline-text-2" id="text-8">
<p>
perl中有两种引用:硬引用和符号引用,因为符号引用被use strict禁止了,<br  />
所以一般的引用都是指硬引用<br  />
创建 使用反斜杠操作符可以创建引用.\相当于c语言中的&amp;<br  />
$numberref = \42;<br  />
$messageref = \"hello ref";<br  />
[&#x2026;]{&#x2026;}创建一个指向数组或hash的引用,<br  />
它们创建一个自己内容的副本并返回指向它的一个引用,所以与\操作符不一样<br  />
@array = [1,2,3,4];<br  />
@copyhasref = {%hash};<br  />
</p>
<ul class="org-ul">
<li>访问 $相当于c中的*,用于访问引用指向的值<br  />
各种类型的引用<br  />
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">引用</th>
<th scope="col" class="left">例子</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">标量引用</td>
<td class="left">$ra = \$ra; #指向标量的引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">$$ra = 2; #标量引用解引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">$ra = \1.6; #指向常量的引用</td>
</tr>

<tr>
<td class="left">数组引用</td>
<td class="left">$rl = \@l; #指向已存在数组的引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">$rl = [1,2,3]; #指向匿名数组的引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">push(@$rl,"a"); #解引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">print $rl-&gt;<sup><a id="fnr.3" name="fnr.3" class="footref" href="#fn.3">3</a></sup>; #$rl 指向的数组的第四个元素</td>
</tr>

<tr>
<td class="left">哈希引用</td>
<td class="left">$rh = \%h; #指向hash的引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">$rh = {"laurel"=&gt;"hardy"}; #指向匿名hash的引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">print keys(%$rh); #解引用</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">$x = $rh-&gt;{"laurel"}; #取得单个元素的箭头符号</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">@slice = @$rh{"laurel","romeo"); #hash 片断</td>
</tr>

<tr>
<td class="left">代码引用</td>
<td class="left">$rs = \&amp;foo;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">$rs = sub {print "foo"};</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&amp;$rs();</td>
</tr>
</tbody>
</table>
</li>
<li>通过ref函数返回引用的类型<br  />
$ref = \[1,2,3,4];<br  />
print "ref type ".ref($ref);<br  />
该函数的返回值<br  />
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">SCALAR</td>
<td class="left">标量引用</td>
</tr>

<tr>
<td class="left">ARRAY</td>
<td class="left">数组引用</td>
</tr>

<tr>
<td class="left">HASH</td>
<td class="left">hash引用</td>
</tr>

<tr>
<td class="left">CODE</td>
<td class="left">例程引用</td>
</tr>

<tr>
<td class="left">GLOB</td>
<td class="left">Typeglob引用</td>
</tr>

<tr>
<td class="left">IO</td>
<td class="left">文件句柄引用</td>
</tr>

<tr>
<td class="left">REF</td>
<td class="left">指向另一个引用</td>
</tr>

<tr>
<td class="left">LVALUE</td>
<td class="left">除了SCALAR ARRAY HASH之外的可分配的值</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> <span class="todo TODO">TODO</span> 子程序</h2>
</div>
<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> string 操作</h2>
<div class="outline-text-2" id="text-10">
</div><div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1"><span class="section-number-3">10.1</span> 基本操作</h3>
<div class="outline-text-3" id="text-10-1">
<p>
$str =~ tr///;  对应替换<br  />
(substr $str, , ) = "&#x2026;";  替换 substr 截取子串<br  />
my $pos = index $str, $subs; $subs在$str的位置<br  />
my $pos = rindex $str, $subs; 从右边起第一次出现的$subs 在$str的位置<br  />
</p>

<p>
split(match operand, target string, chunk-limit operand)<br  />
match operand 为' '时，相当于/\s+/<br  />
split(" ", "  a short   test   ")得到('a', 'short', 'test')<br  />
使用 \s+ 会保留开始的空白字符<br  />
如果没有设置regex运算元,则默认使用一个空格符<br  />
regex为空,把目标字符串分割为字符<br  />
chunk-limit operand 切分字符串的上限<br  />
保留结尾的空白字符可以将chunk-limit设为－1<br  />
当split中带捕获型括号的match运算元时返回的list中会多出些独立的元素,<br  />
多出的元素不受分段上限的限制.如果含有多个捕获型括号会多出多个元素,<br  />
未参与匹配的捕获型括号对应的元素为undef.<br  />
</p>

<p>
chop       去掉字符串的最后一个字符<br  />
chomp()    去掉字符串末尾的换行符<br  />
</p>
</div>
</div>
<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2"><span class="section-number-3">10.2</span> 字符操作</h3>
<div class="outline-text-3" id="text-10-2">
<p>
chr(0x05D0) 将代码点转换成对应的字符 reverse ord<br  />
ord EXPR 返回EXPR第一个字符的代码点<br  />
</p>
</div>
</div>

<div id="outline-container-sec-10-3" class="outline-3">
<h3 id="sec-10-3"><span class="section-number-3">10.3</span> 大小写转换</h3>
<div class="outline-text-3" id="text-10-3">
<p>
lc EXPR 转换为小写<br  />
uc EXPR 转换为大写<br  />
ucfirst EXPR 将首字母转换为大写<br  />
lcfirst EXPR 将首字母转换为小写<br  />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> 文件目录及IO</h2>
<div class="outline-text-2" id="text-11">
</div><div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1"><span class="section-number-3">11.1</span> <span class="todo TODO">TODO</span> glob</h3>
</div>
<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2"><span class="section-number-3">11.2</span> <span class="done DONE">DONE</span> 文件测试</h3>
<div class="outline-text-3" id="text-11-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">文件测试操作符</th>
<th scope="col" class="left">意义</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">-r</td>
<td class="left">文件或目录,对目前(有效的)用户或组来说是可读的</td>
</tr>

<tr>
<td class="left">-w</td>
<td class="left">文件或目录,对目前(有效的)用户或组来说是可写的</td>
</tr>

<tr>
<td class="left">-x</td>
<td class="left">文件或目录,对目前(有效的)用户或组来说是可执行的</td>
</tr>

<tr>
<td class="left">-o</td>
<td class="left">文件或目录,由目前(有效的)用户拥有</td>
</tr>

<tr>
<td class="left">-R</td>
<td class="left">文件或目录,对实际的用户或组来说是可读的</td>
</tr>

<tr>
<td class="left">-W</td>
<td class="left">文件或目录,对实际的用户或组来说是可写的</td>
</tr>

<tr>
<td class="left">-X</td>
<td class="left">文件或目录,对实际的用户或组来说是可执行的</td>
</tr>

<tr>
<td class="left">-O</td>
<td class="left">文件或目录,由实际的用户拥有</td>
</tr>

<tr>
<td class="left">-e</td>
<td class="left">文件或目录,是存在的</td>
</tr>

<tr>
<td class="left">-z</td>
<td class="left">文件存在而且没有内容(对目录来说永远为假</td>
</tr>

<tr>
<td class="left">-s</td>
<td class="left">文件或目录存在而且有内容(返回值是以字节为单位的文件大小)</td>
</tr>

<tr>
<td class="left">-f</td>
<td class="left">是普通文件</td>
</tr>

<tr>
<td class="left">-d</td>
<td class="left">是目录</td>
</tr>

<tr>
<td class="left">-l</td>
<td class="left">是符号链接</td>
</tr>

<tr>
<td class="left">-S</td>
<td class="left">是socket类型的文件</td>
</tr>

<tr>
<td class="left">-p</td>
<td class="left">是命名管道,也就是先入先出(fifo)队列</td>
</tr>

<tr>
<td class="left">-b</td>
<td class="left">是块设备文件(比如某个可挂臷的磁盘)</td>
</tr>

<tr>
<td class="left">-c</td>
<td class="left">是字符设备文件(比如某个I/O设备)</td>
</tr>

<tr>
<td class="left">-u</td>
<td class="left">文件或目录设置了setuid位</td>
</tr>

<tr>
<td class="left">-g</td>
<td class="left">文件或目录设置了setgid位</td>
</tr>

<tr>
<td class="left">-k</td>
<td class="left">文件或目录设置了sticky位</td>
</tr>

<tr>
<td class="left">-t</td>
<td class="left">文件句柄是TTY设备(类似系统函数isatty()的测试;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">不能对文件名进行此测试)</td>
</tr>

<tr>
<td class="left">-T</td>
<td class="left">看起来像文本文件</td>
</tr>

<tr>
<td class="left">-B</td>
<td class="left">看起来像二进制文件</td>
</tr>

<tr>
<td class="left">-M</td>
<td class="left">最后一次被修改后至今的天数</td>
</tr>

<tr>
<td class="left">-A</td>
<td class="left">最后一次被访问后至今的天数</td>
</tr>

<tr>
<td class="left">-C</td>
<td class="left">最后一次文件节点编号(inode)被变更后至今的天数</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3"><span class="section-number-3">11.3</span> <span class="todo TODO">TODO</span> 文件操作</h3>
<div class="outline-text-3" id="text-11-3">
<ul class="org-ul">
<li>rename 重命名<br  />
rename 'old', 'new';  同时 , 也可以用 =&gt; 即 rename 'old' =&gt; 'new';<br  />
</li>
<li>unlink 删除文件<br  />
unlink + 文件列表: unlink 'slate', 'lava'; 或 qw//  或  glob<br  />
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4"><span class="section-number-3">11.4</span> stat lstat 获得文件的属性</h3>
<div class="outline-text-3" id="text-11-4">
<p>
如果所传参数为符号链接,stat返回的是符号链接指向的对象的属性,<br  />
而非符号链接本身的属性.如果想得到符号链接的属性则使用lstat函数<br  />
Return a 13-elements list<br  />
($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,<br  />
$atime,$mtime,$ctime,$blksize,$blocks) = stat($filename);<br  />
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">0 dev</td>
<td class="left">device number of filesystem</td>
</tr>

<tr>
<td class="left">1 ino</td>
<td class="left">inode number</td>
</tr>

<tr>
<td class="left">2 mode</td>
<td class="left">file mode  (type and permissions)</td>
</tr>

<tr>
<td class="left">3 nlink</td>
<td class="left">number of (hard) links to the file</td>
</tr>

<tr>
<td class="left">4 uid</td>
<td class="left">numeric user ID of file's owner</td>
</tr>

<tr>
<td class="left">5 gid</td>
<td class="left">numeric group ID of file's owner</td>
</tr>

<tr>
<td class="left">6 rdev</td>
<td class="left">the device identifier (special files only)</td>
</tr>

<tr>
<td class="left">7 size</td>
<td class="left">total size of file, in bytes</td>
</tr>

<tr>
<td class="left">8 atime</td>
<td class="left">last access time in seconds since the epoch</td>
</tr>

<tr>
<td class="left">9 mtime</td>
<td class="left">last modify time in seconds since the epoch</td>
</tr>

<tr>
<td class="left">10 ctime</td>
<td class="left">inode change time in seconds since the epoch (*)</td>
</tr>

<tr>
<td class="left">11 blksize</td>
<td class="left">preferred block size for file system I/O</td>
</tr>

<tr>
<td class="left">12 blocks</td>
<td class="left">actual number of blocks allocated</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-11-5" class="outline-3">
<h3 id="sec-11-5"><span class="section-number-3">11.5</span> <span class="todo TODO">TODO</span> 目录</h3>
<div class="outline-text-3" id="text-11-5">
<p>
chdir 相当于 cd 改变当前工作目录<br  />
chdir '/etc' or die "cannot chdir to /etc: $!";<br  />
</p>
</div>
</div>
<div id="outline-container-sec-11-6" class="outline-3">
<h3 id="sec-11-6"><span class="section-number-3">11.6</span> 文件句柄</h3>
<div class="outline-text-3" id="text-11-6">
<p>
&lt;STDIN&gt;    行输入 操作<br  />
$line = &lt;DATA&gt; 读取一行<br  />
@array = &lt;DATA&gt; 读入数组<br  />
</p>
<ul class="org-ul">
<li>_ 虚拟文件句柄 (用上次查询过的文件信息来做当前测试)<br  />
测试同一文件的多项属性<br  />
if(-r $file and -w _)<br  />
可以在不同的语句中使用<br  />
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> 一些函数</h2>
<div class="outline-text-2" id="text-12">
</div><div id="outline-container-sec-12-1" class="outline-3">
<h3 id="sec-12-1"><span class="section-number-3">12.1</span> 日期函数</h3>
<div class="outline-text-3" id="text-12-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">函数</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">time</td>
<td class="left">返回1970年1月1日起经过无跳跃秒数</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">可以用gmtime和localtime做进一步处理</td>
</tr>

<tr>
<td class="left">times</td>
<td class="left">返回一个四个元素的列表,给出当前进程及其子进程用户和系统时间,</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">精确到秒</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">($uer, $system, $cuser, $csystem) = times</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">在标量上下文中,times 返回$user</td>
</tr>

<tr>
<td class="left">localtime EXPR</td>
<td class="left">把一个由time函数返回的时间转换成一个9个元素的列表,</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">同时把该时间按照本地时区转换</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) =</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">localtime(time)</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">取得当前时间:$time = locatime; print $time;</td>
</tr>

<tr>
<td class="left">gmtime EXPR</td>
<td class="left">把一个由time 函数返回的时间转换成一个8个元素的列表,同时</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">把该时间转化成标准的格林威治时区时间</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-12-2" class="outline-3">
<h3 id="sec-12-2"><span class="section-number-3">12.2</span> 简单</h3>
<div class="outline-text-3" id="text-12-2">
<p>
defined    判断是否为 undef 是返回假 否返回真<br  />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> 结构控制</h2>
<div class="outline-text-2" id="text-13">
</div><div id="outline-container-sec-13-1" class="outline-3">
<h3 id="sec-13-1"><span class="section-number-3">13.1</span> bool值</h3>
<div class="outline-text-3" id="text-13-1">
<p>
如果是数字，0为假，其余为真<br  />
如果是字符串，空('')为假，其余为真 ('0'与0为同一个标量,所以为假)<br  />
非数字或字符串，先转换为数字或字符串再判断<br  />
</p>
</div>
</div>

<div id="outline-container-sec-13-2" class="outline-3">
<h3 id="sec-13-2"><span class="section-number-3">13.2</span> 控制结构</h3>
<div class="outline-text-3" id="text-13-2">
<p>
if,  else,  elsif(不是elseif)<br  />
unless<br  />
必须加上{} (c中一句可以不加)<br  />
foreach $.. ( ){}<br  />
</p>
<ul class="org-ul">
<li>循环控制<br  />
last 相当于break<br  />
next 结束本次循环,继续下次<br  />
redo 重新执行本次循环<br  />
continue 在given-when 中使用<br  />
</li>

<li>given-when 语句<br  />
默认使用break语句,不用输入<br  />
使用continue语句 继续测试 when条件<br  />
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14"><span class="section-number-2">14</span> <span class="todo TODO">TODO</span> 进程管理</h2>
</div>
<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15"><span class="section-number-2">15</span> perl books</h2>
<div class="outline-text-2" id="text-15">
<p>
perl cookbook<br  />
perl objects references<br  />
黑豹书<br  />
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.2" name="fn.2" class="footnum" href="#fnr.2">2</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.3" name="fn.3" class="footnum" href="#fnr.3">3</a></sup> <p>DEFINITION NOT FOUND.</p></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: root</p>
<p class="date">Created: 2016-03-02 Wed 15:06</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.0.50.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
